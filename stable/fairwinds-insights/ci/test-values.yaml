rok8sCIRef: this-is-a-really-long-string-that-will-need-to-be-truncated
sanitizedBranch: this-is-a-really-long-string-that-will-need-to-be-truncated
fullnameOverride: this-is-a-really-long-string-that-will-need-to-be-truncated

ingress:
  enabled: true
  hostedZones:
  - test.cluster.local

options:
  insightsSAASHost: "https://staging.k8s.insights.fairwinds.com"
  autogenerateKeys: true

deployments:
  additionalLabels:
    foo: bar
  additionalPodLabels:
    pod-foo: pod-bar

postgresql:
  # Enable ephemeral PostgreSQL cluster
  ephemeral: true
  # Install CloudNativePG operator
  operator:
    install: true
  # Storage configuration
  storage:
    size: 5Gi
  auth:
    password: "changeme"
    superuserpassword: "changeme"
  preMigrate: false

dashboard:
  pdb:
    enabled: false
  hpa:
    enabled: false
  resources:
    limits:
      cpu: 500m
      memory: 512Mi
    requests:
      cpu: 50m
      memory: 128Mi

api:
  pdb:
    enabled: false
  hpa:
    enabled: false
  resources:
    limits:
      cpu: 500m
      memory: 512Mi
    requests:
      cpu: 50m
      memory: 128Mi

alertsCronjob:
  schedules: []

emailCronjob:
  schedules: []

databaseCleanupCronjob:
  enabled: true
  schedules: []

actionItemsStatisticsCronjob:
  enabled: true
  schedules: []

resourcesRecommendationsCronjob:
  enabled: true
  schedules: []

minio:
  persistence:
    enabled: false

# Reduce cronjob resources for CI
cronjobOptions:
  resources:
    requests:
      cpu: 100m
      memory: 256Mi
    limits:
      cpu: 200m
      memory: 512Mi

# Add timeout configuration for CI
timeout: 600s

# Override specific cronjob resources for CI
cronjobs:
  costs-update:
    command: cloud_costs_update
    includeGitHubSecret: true
    schedule: "15 */3 * * *"
    resources:
      requests:
        cpu: 100m
        memory: 256Mi
      limits:
        cpu: 200m
        memory: 512Mi

  resources-recommendations:
    command: resources_recommendations
    schedule: "0 2 * * *"
    resources:
      requests:
        cpu: 100m
        memory: 256Mi
      limits:
        cpu: 200m
        memory: 512Mi
