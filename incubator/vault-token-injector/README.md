# vault-token-injector

![Version: 1.3.0](https://img.shields.io/badge/Version-1.3.0-informational?style=flat-square) ![Type: application](https://img.shields.io/badge/Type-application-informational?style=flat-square) ![AppVersion: v1.4.0](https://img.shields.io/badge/AppVersion-v1.4.0-informational?style=flat-square)

A Helm chart for Fairwinds vault-token-injector

This will inject vault tokens and address variables into circle builds on a schedule

## Maintainers

| Name | Email | Url |
| ---- | ------ | --- |
| lucasreed |  |  |
| sudermanjr |  |  |

## Values

| Key | Type | Default | Description |
|-----|------|---------|-------------|
| replicaCount | int | `1` | We currently only support a single instance |
| circleToken | string | `"replaceme"` | A token for interacting with CircleCI |
| tfCloudToken | string | `"replaceme"` | A token for interacting with TFCloud |
| existingSecret | string | `""` | An existing secret that contains the environment variables CIRCLEC_CI_TOKEN and TFCLOUD_TOKEN |
| vaultAddress | string | `"https://vault.example.com"` | The vault address to get tokens from |
| vaultTokenFile | string | `""` | A file containing a vault token. Optional. |
| config | object | `{"circleci":[{"env_variable":"VAULT_TOKEN","name":"FairwindsOps/example","vault_role":"some-vault-role"}],"vaultAddress":"https://vault.example.com"}` | The configuration of the vault-token-injector |
| metrics.enabled | bool | `false` | If true, a prometheus endpoint will be enabled on port 4329 |
| metrics.service.enabled | bool | `true` |  |
| logLevel | int | `1` | The klog log level (1-10). WARNING: Log level 10 will print secrets to logs |
| image.repository | string | `"quay.io/fairwinds/vault-token-injector"` | The image repository to pullt he vault-token-injector image from |
| image.pullPolicy | string | `"Always"` | This is recommended to be set as Always |
| image.tag | string | `""` | Overrides the image tag whose default is the chart appVersion. |
| imagePullSecrets | list | `[]` | A list of imagePullSecrets to use |
| nameOverride | string | `""` | Overrides the name in the main template |
| fullnameOverride | string | `""` | Overrides the fullname in the main template |
| serviceAccount.create | bool | `true` | Specifies whether a service account should be created |
| serviceAccount.annotations | object | `{}` | Annotations to add to the service account |
| serviceAccount.name | string | `""` | The name of the service account to use. If not set and create is true, a name is generated using the fullname template |
| podAnnotations | object | `{}` | Annotations to add to the pod |
| podSecurityContext | object | `{}` | a podSecurityContext to apply |
| securityContext | object | `{"capabilities":{"drop":["ALL"]},"readOnlyRootFilesystem":true,"runAsNonRoot":true,"runAsUser":10000}` | securityContext for the containers |
| resources | object | `{"limits":{"cpu":"20m","memory":"128Mi"},"requests":{"cpu":"20m","memory":"128Mi"}}` | resources block for the pod |
| nodeSelector | object | `{}` | A nodeSelector block for the pod |
| tolerations | list | `[]` | tolerations block for the pod |
| affinity | object | `{}` | affinity block for the pod |

----------------------------------------------
Autogenerated from chart metadata using [helm-docs v1.5.0](https://github.com/norwoodj/helm-docs/releases/v1.5.0)
